#{extends 'main.html' /}
#{set title:'Enhancers' /}

	<div class="container" style="padding-top: 50px">
			<div class="panel panel-default">
				<div class="panel-heading"><h4>Filter results by:</h4></div>
  				<div class="panel-body">
					<form class="form-inline" action="@{Application.enhancersByInput()}" method="GET" role="form">
							<div class="form-group">
								<label for="selector1">Sox binding pattern</label>
								<select multiple class="form-control" name="soxBind">
								  <option>Dichaete unique</option>
								  <option>SoxN unique</option>
								  <option>Common</option>
								  <option>All</option>
								</select>
							</div>
							<div class="form-group">	
					  			<label for="selector2">Expression stage</label>
								<select multiple class="form-control" name="expStage">
								  <option>GBE</option>
								  <option>Stage 16</option>
								  <option>All</option>
								</select>
							</div>
							<div class="form-group">	
								<label for="selector3">Expression subset</label>
								<select multiple class="form-control" name="expSubset">
								  <option>NBs</option>
								  <option>Neurons</option>
								  <option>Midline</option>
								  <option>All</option>
								</select>
							</div>	
					 		<button type="submit" class="btn btn-info">Submit</button>	
			 		</form>	
			 	</div>
			 </div>						
	  	</div>
	  </div>	
	  	
 #{if enhancers.size()}
 	<div class="container">
          	<div class="panel panel-default">
          		<div class="panel-heading"><h4>Browse Flylight enhancers</h4></div>      			
				<table class="table table-bordered">
        			<thead>
				         <tr>
				           <th>Enhancer</th>
				           <th>Chromosome</th>
				           <th>Start</th>
				           <th>End</th>
				           <th>Sox binding pattern
				               <a title="The Sox binding pattern refers to whether an enhancer is bound in vivo by Dichaete alone, SoxN alone, or both proteins in common."
				               	data-toggle="tooltip">[?]</a>
				           </th>
				           <th>Sox transcompensation
				           		<a title="Sox transcompensation refers to whether or not Dichaete or SoxN bind an enhancer in a compensatory manner in a reciprocal mutant background."
				               	data-toggle="tooltip">[?]</a>
				           </th>
				         </tr>
				       </thead>
				       <tbody>
				       #{list items:enhancers, as:'enhancer'}
			         	<tr>
				           	<td><a href="@{Application.tfsitesByEnhancer(enhancer.name, 1)}" data-toggle="tooltip" title="View TF binding sites">${enhancer.name}</a></td>
			           		<td>${enhancer.chrom}</td>
			           		<td>${enhancer.startCoords}</td>	
			           		<td>${enhancer.endCoords}</td>
			           		<td>${enhancer.soxBindPattern}</td>	
			           		<td>${enhancer.transcomp}</td>
			           </tr>
			           #{/list} 		
				      </tbody>
				 </table>	
			</div>	
		</div>
		<div class="container">
		<ul class="pagination">
			#{if page > 1}			
		 	 	<li><a href="@{Application.enhancers(page-1)}">&laquo;</a></li>
		 	#{/if}
		 	#{if enhancers.size() == 100}	
		  		<li><a href="@{Application.enhancers(page+1)}">&raquo;</a></li>
		  	#{/if}	
		</ul>
		</div>
	</div>	
			
#{/if}			