#{extends 'main.html' /}
#{set title:'Enhancers' /}

	<div class="container" style="padding-top: 50px">
			<div class="panel panel-default">
				<div class="panel-heading"><h4>Filter results by:</h4></div>
  				<div class="panel-body">
					<form class="form-inline" action="@{Application.enhancersByInput()}" method="GET" role="form">
							<div class="form-group">
								<label for="selector1">Sox binding pattern</label>
								<select multiple class="form-control" name="soxBind">
								  <option>Dichaete unique</option>
								  <option>SoxN unique</option>
								  <option>Common</option>
								  <option>All</option>
								</select>
							</div>
							<div class="form-group">	
					  			<label for="selector2">Expression stage</label>
								<select multiple class="form-control" name="expStage">
								  <option>GBE</option>
								  <option>Stage 16</option>
								  <option>All</option>
								</select>
							</div>
							<div class="form-group">	
								<label for="selector3">Expression subset</label>
								<select multiple class="form-control" name="expSubset">
								  <option>NBs</option>
								  <option>Neurons</option>
								  <option>Midline</option>
								  <option>All</option>
								</select>
							</div>	
					 		<button type="submit" class="btn btn-info">Submit</button>	
			 		</form>	
			 	</div>
			 </div>						
	  </div>
	  
	  <div class="container" style="padding-bottom: 30px">
	  	<a class="btn btn-info" href="@{Application.enhancers(1)}"><span class="glyphicon glyphicon-chevron-left"></span>Back to viewing all enhancers</a>
	  </div>	
	  
	  #{if enhancers.size()}
		<div class="container">	  
          	<div class="panel panel-default">
          		<div class="panel-heading"><h4>Browse Flylight enhancers</h4></div>      			
				<table class="table table-bordered">
        			<thead>
				         <tr>
				           <th>Enhancer</th>
				           <th>Chromosome</th>
				           <th>Start</th>
				           <th>End</th>
				           <th>Sox binding pattern
				               <a title="The Sox binding pattern refers to whether an enhancer is bound in vivo by Dichaete alone, SoxN alone, or both proteins in common."
				               	data-toggle="tooltip">[?]</a>
				           </th>
				           <th>Sox transcompensation
				           		<a title="Sox transcompensation refers to whether or not Dichaete or SoxN bind an enhancer in a compensatory manner in a reciprocal mutant background."
				               	data-toggle="tooltip">[?]</a>
				           </th>
				         </tr>
				       </thead>
				       <tbody>
				       #{list items:enhancers, as:'enhancer'}
			         	<tr>
				           	<td>${enhancer.name}</td>
			           		<td>${enhancer.chrom}</td>
			           		<td>${enhancer.startCoords}</td>	
			           		<td>${enhancer.endCoords}</td>
			           		<td>${enhancer.soxBindPattern}</td>	
			           		<td>${enhancer.transcomp}</td>	
			           </tr>
			           #{/list} 		
				      </tbody>
				 </table>	
				</div>	
			</div>
		</div>		
	#{/if}		
	#{else}
		<div class="container">
			<p><h3>No enhancers fit those criteria, sorry!</h3></p>
		</div>	
	#{/else}		